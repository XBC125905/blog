<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>test</title>
  <style>
    body{ height:2000px;}
    .rTop{ width:100px; height:25px; text-align:center; font-size:small; line-height:25px; border:1px solid #999; position:fixed; right:0; bottom:0;
      border-bottom-color:#333; border-right-color:#333; margin:5px; cursor:pointer; display:none}
  </style>
</head>
<body>
<div class="rTop" id="rTop">返回顶部</div>
<script>
  window.onscroll=function(){
    if(document.body.scrollTop||document.documentElement.scrollTop>0){
      document.getElementById('rTop').style.display="block"
    }else{
      document.getElementById('rTop').style.display="none"
    }
  }

  document.getElementById('rTop').onclick=function () {
    var scrollToptimer = setInterval(function () {
      console.log("定时循环回到顶部")
      var top = document.body.scrollTop || document.documentElement.scrollTop;
      var speed = top / 5;
      if (document.body.scrollTop!=0) {
        document.body.scrollTop -= speed;
      }else {
        document.documentElement.scrollTop -= speed;
      }
      if (top === 0) {
        clearInterval(scrollToptimer);
      }
    }, 20);
  }

</script>
</body>
</html>
